# IP Multicast with AWS Transit Gateway
Multicast is a communication protocol used to deliver a single stream of data to multiple receiving instances simultaneously. This means a source host can send a single packet to multiple receiving hosts at the same time. In AWS, transit gateway supports multicast traffic between subnets of VPCs attached to it and serves as a multicast router. Before deploying multicast routing make sure your region of choice supports multicast over transit gateway. Further, with existing transit gateways multicast can not be enabled. Instead, a new transit gateway must be deployed. Multicast settings are managed using Amazon VPC console or AWS CLI! There is no support yet for managing transit gateway multicast with Terraform or Ansible!  

## Details
This demo consists of two VPCs created in the same region, each having one public subnet.The subnet in *VPC A* has only one instance as it is set to be the source of multicast. On the other side, subnet in VPC B consists of 2 instances both on the receiving side of the multicast group. 2 instances are enough to test the multicast stream of data. It should be mentioned that the source and receiving instances can also be within the same VPC and/or subnet. Multicast communication is tested with *iPerf* command. To be able to login to the instance over SSH, install apache webserver and send multicast UDP packets, a custom security group is created. Further, to access the instance from the internet a simple custom route table and internet gateway is provided, while the multicast is done through a custom transit gateway, as mentioned.

[*main.tf*](https://github.com/MihaMarkocic/cloudservices/blob/master/AWS/ip_m